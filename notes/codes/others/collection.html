<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
    <base href="/"/>
    <title>Magento 2 开发笔记</title>
    <link rel="shortcut icon" type="image/x-icon" href="web/images/favicon.ico"/>
    <link rel="stylesheet" type="text/css" href="web/css/notes.css"/>
</head>
<body>
<main>
    <article>
        <h1>集合 Collection</h1>
<h2>普通  Collection</h2>
<p>AND 条件使用实例：</p>
<pre><code class="language-php">/* @var $collection \Magento\Framework\Data\Collection\AbstractDb */
$collection
    -&gt;addFieldToFilter( 'news_from_date', [ 'to' =&gt; date( 'Y-m-d' ) ] )
    -&gt;addFieldToFilter( 'title', [ 'like' =&gt; '%abc' ] );</code></pre>
<p>OR 条件使用实例：</p>
<pre><code class="language-php">/* @var $collection \Magento\Framework\Data\Collection\AbstractDb */
$collection-&gt;addFieldToFilter( [
    'a' =&gt; 'news_from_date',
    'b' =&gt; 'news_to_date'
], [
    'a' =&gt; [ 'from' =&gt; date( 'Y-m-d' ) ],
    'b' =&gt; [ 'to' =&gt; date( 'Y-m-d' ) ]
] );</code></pre>
<h2>EAV Collection</h2>
<p>AND 条件使用实例：</p>
<pre><code class="language-php">/* @var $collection \Magento\Eav\Model\Entity\Collection\AbstractCollection */
$collection
    -&gt;addAttributeToFilter( 'news_from_date', [ 'to' =&gt; date( 'Y-m-d' ) ] )
    -&gt;addAttributeToFilter( 'title', [ 'like' =&gt; '%abc' ] );</code></pre>
<p>OR 条件使用实例：</p>
<pre><code class="language-php">/* @var $collection \Magento\Eav\Model\Entity\Collection\AbstractCollection */
$collection-&gt;addAttributeToFilter( [
    [ 'attribute' =&gt; 'news_from_date', 'from' =&gt; date( 'Y-m-d' ) ],
    [ 'attribute' =&gt; 'news_to_date', 'to' =&gt; date( 'Y-m-d' ) ]
] );</code></pre>
<h2>可用条件</h2>
<pre><code>'eq'            =&gt; "{{fieldName}} = ?",
'neq'           =&gt; "{{fieldName}} != ?",
'like'          =&gt; "{{fieldName}} LIKE ?",
'nlike'         =&gt; "{{fieldName}} NOT LIKE ?",
'in'            =&gt; "{{fieldName}} IN(?)",
'nin'           =&gt; "{{fieldName}} NOT IN(?)",
'is'            =&gt; "{{fieldName}} IS ?",
'notnull'       =&gt; "{{fieldName}} IS NOT NULL",
'null'          =&gt; "{{fieldName}} IS NULL",
'gt'            =&gt; "{{fieldName}} &gt; ?",
'lt'            =&gt; "{{fieldName}} &lt; ?",
'gteq'          =&gt; "{{fieldName}} &gt;= ?",
'lteq'          =&gt; "{{fieldName}} &lt;= ?",
'finset'        =&gt; "FIND_IN_SET(?, {{fieldName}})",
'regexp'        =&gt; "{{fieldName}} REGEXP ?",
'from'          =&gt; "{{fieldName}} &gt;= ?",
'to'            =&gt; "{{fieldName}} &lt;= ?",
'seq'           =&gt; null,
'sneq'          =&gt; null,
'ntoa'          =&gt; "INET_NTOA({{fieldName}}) LIKE ?",</code></pre>
    </article>
</main>
<script src="web/js/lib/require.js" type="text/javascript"></script>
<script src="web/js/require-config.js" type="text/javascript"></script>
<script src="web/js/notes.js" type="text/javascript"></script>
</body>
</html>